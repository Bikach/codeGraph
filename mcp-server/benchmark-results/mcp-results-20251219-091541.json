{
  "mode": "mcp",
  "timestamp": "2025-12-19T09:15:41.535Z",
  "projectPath": "/Users/bikach/workspace/h-backend",
  "scenarios": [
    {
      "scenarioId": "find-callers",
      "scenarioName": "Find Callers",
      "description": "Find all functions that call a specific function",
      "prompt": "Find all functions that call the function that finds a user by their ID in this codebase. Return the list of callers with their file locations.",
      "metrics": {
        "llmCalls": 5,
        "toolCalls": 4,
        "toolsUsed": [
          "mcp__codegraph__search_nodes",
          "mcp__codegraph__get_callers"
        ],
        "tokenUsage": {
          "inputTokens": 16,
          "outputTokens": 1421,
          "totalTokens": 1437
        },
        "cost": {
          "totalCost": 0.06826465
        },
        "executionTimeMs": 26615
      }
    },
    {
      "scenarioId": "find-implementations",
      "scenarioName": "Find Implementations",
      "description": "Find all classes that implement a specific interface",
      "prompt": "Find all classes that implement the repository interface for managing users. Return the list with file paths.",
      "metrics": {
        "llmCalls": 3,
        "toolCalls": 2,
        "toolsUsed": [
          "mcp__codegraph__search_nodes",
          "mcp__codegraph__get_implementations"
        ],
        "tokenUsage": {
          "inputTokens": 15,
          "outputTokens": 339,
          "totalTokens": 354
        },
        "cost": {
          "totalCost": 0.0362042
        },
        "executionTimeMs": 16559
      }
    },
    {
      "scenarioId": "impact-analysis",
      "scenarioName": "Impact Analysis",
      "description": "Analyze the impact of modifying a class or function",
      "prompt": "Analyze the impact of modifying the domain model representing a user. Find all code that would be affected by changes to this class, including direct and indirect dependents. Return the impact analysis.",
      "metrics": {
        "llmCalls": 9,
        "toolCalls": 8,
        "toolsUsed": [
          "mcp__codegraph__search_nodes",
          "mcp__codegraph__get_impact",
          "Read",
          "mcp__codegraph__get_neighbors",
          "Grep",
          "mcp__codegraph__get_callers"
        ],
        "tokenUsage": {
          "inputTokens": 25,
          "outputTokens": 2488,
          "totalTokens": 2513
        },
        "cost": {
          "totalCost": 0.22021174999999998
        },
        "executionTimeMs": 49523
      }
    },
    {
      "scenarioId": "dependency-analysis",
      "scenarioName": "Dependency Analysis",
      "description": "Analyze all dependencies of a class (incoming and outgoing)",
      "prompt": "Analyze all dependencies of the use case that handles user login. Find what it depends on (imports, injections) and what depends on it (usages). Return the dependency graph.",
      "metrics": {
        "llmCalls": 8,
        "toolCalls": 7,
        "toolsUsed": [
          "Glob",
          "Grep",
          "Read",
          "mcp__codegraph__search_nodes",
          "mcp__codegraph__get_neighbors",
          "mcp__codegraph__get_callers",
          "mcp__codegraph__get_callees"
        ],
        "tokenUsage": {
          "inputTokens": 106,
          "outputTokens": 1616,
          "totalTokens": 1722
        },
        "cost": {
          "totalCost": 0.0967174
        },
        "executionTimeMs": 39294
      }
    },
    {
      "scenarioId": "call-chain",
      "scenarioName": "Call Chain",
      "description": "Trace the call chain between two functions",
      "prompt": "Trace the call chain from the function that retrieves a user by ID to the function that saves data to the database. Find if there's a path of function calls connecting these two functions. Return the call chain if it exists.",
      "metrics": {
        "llmCalls": 12,
        "toolCalls": 11,
        "toolsUsed": [
          "mcp__codegraph__search_nodes",
          "mcp__codegraph__get_callers",
          "mcp__codegraph__get_callees",
          "Read",
          "mcp__codegraph__find_path"
        ],
        "tokenUsage": {
          "inputTokens": 29,
          "outputTokens": 1698,
          "totalTokens": 1727
        },
        "cost": {
          "totalCost": 0.1348237
        },
        "executionTimeMs": 44342
      }
    }
  ],
  "totals": {
    "cost": 0.5562217,
    "tokens": 7753,
    "time": 176333,
    "llmCalls": 37,
    "toolCalls": 32
  }
}